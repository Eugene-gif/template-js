(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function c(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=c(t);fetch(t.href,s)}})();function i(e){const n={btns:document.querySelectorAll("._btn"),contents:document.querySelectorAll("._content"),moving:function(c,o){c.forEach(t=>{t.addEventListener("click",s=>{let l=s.target.dataset.btn;localStorage.setItem("page",l),console.log("used Switch Content"),e()})})}};n.moving(n.btns,n.contents)}function u(){const e={openBtn:document.querySelector(".header__btn"),closeBtns:document.querySelectorAll("._close"),nav:document.querySelector(".header__nav"),navBtns:document.querySelectorAll(".nav__btn._btn"),overlay:document.querySelector(".header__overlay"),body:document.querySelector("body"),toggler:function(){e.openBtn.classList.toggle("_close"),e.nav.classList.toggle("_show"),e.overlay.classList.toggle("_show"),e.body.classList.toggle("_lock")},action:function(){e.openBtn.addEventListener("click",e.toggler),e.overlay.addEventListener("click",e.toggler),e.activeLink()},removeActiveLink:function(){e.navBtns.forEach(n=>n.classList.remove("_active"))},activeLink:function(){e.navBtns.forEach(n=>{n.addEventListener("click",()=>{e.removeActiveLink(),n.classList.contains("_active")||n.classList.add("_active")})})}};e.action()}function a(){const e={elem:document.documentElement,btn:document.querySelector("._resize"),icon:{min:"icons/min-size.svg",max:"icons/max-size.svg"},action:()=>{e.btn.addEventListener("click",()=>{e.btn.classList.contains("_resize-on")?e.fullOff():e.fullOn()})},fullOn:()=>{e.btn.classList.add("_resize-on"),e.btn.children[0].setAttribute("src",e.icon.min),(e.elem.requestFullscreen||e.elem.mozRequestFullScreen||e.elem.webkitRequestFullscreen||e.elem.msRequestFullscreen)&&(e.elem.requestFullscreen()||e.elem.mozRequestFullScreen()||e.elem.webkitRequestFullscreen()||e.elem.msRequestFullscreen())},fullOff:()=>{(document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen)&&(document.exitFullscreen()||document.mozCancelFullScreen()||document.webkitExitFullscreen()||document.msExitFullscreen(),e.btn.classList.remove("_resize-on"),e.btn.children[0].setAttribute("src",e.icon.max))}};e.action()}function d(){const e={btn:document.querySelector("._theme-btn"),icon:{sun:"icons/sun.svg",moon:"icons/moon.svg"},currentTheme:localStorage.getItem("theme"),currentIcon:localStorage.getItem("icon"),action:()=>{e.currentTheme==="dark"?(document.body.classList.add("dark-theme"),document.body.classList.remove("light-theme"),e.btn.children[0].setAttribute("src",e.icon.sun)):(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),e.btn.children[0].setAttribute("src",e.icon.moon)),e.btn.addEventListener("click",function(){document.body.classList.toggle("dark-theme"),document.body.classList.contains("dark-theme")?(e.currentTheme="dark",e.btn.children[0].setAttribute("src",e.icon.sun),console.log("Меняем тему на темную")):(e.currentTheme="light",e.btn.children[0].setAttribute("src",e.icon.moon),console.log("Меняем тему на светлую")),localStorage.setItem("theme",e.currentTheme)}),document.body.style.display="block"}};e.action()}function m(){({url:"data/products.json",getData:function(n){fetch(n).then(c=>c.json()).then(c=>{this.cycleCards(c)}).catch(c=>console.error(c))},cycleCards:function(n){const c=document.querySelector(".products__list");for(let o of n){const t=document.createElement("li");t.classList.add("products__item","card"),t.innerHTML=`<div class="card__img">
        <img src="img/Products/${o.img}.webp" alt="Картинка товара">
        </div><div class="card__text">
        <div class="card__title">
          ${o.name}
        </div>
        <div class="card__description">
          ${o.description}
        </div>
        <div class="card__price">
          <p>Цена:</p>
          <p>${o.price}<span>р.</span></p>
        </div>
      </div>`,c.appendChild(t)}},action:function(){this.getData(this.url)}}).action()}function r(){const e=document.querySelectorAll("._content"),n=document.querySelectorAll("._btn");e.forEach(c=>{c.dataset.content===localStorage.getItem("page")&&(document.querySelectorAll("._show").forEach(o=>{o.classList.remove("_show"),document.body.classList.remove("_lock")}),document.querySelectorAll("._close").forEach(o=>{o.classList.remove("_close")}),n.forEach(o=>{o.dataset.btn===localStorage.getItem("page")&&o.classList.add("_active")}),c.classList.add("_show"))}),window.scrollTo(0,0)}i(r);u();a();d();m();window.onload=function(){r(),setTimeout(()=>{window.scrollTo(0,0)},50)};
